const Sub={timeline:["00:01","00:02"],text:["You must input some data","otherwise this app makes no sense"],names:[],delay:0,shift:500,startsFrom:1,margin:10,output:[],charsec:[],set:function(){}};function convert(t){""!=Sub.names[0]&&addNames();let u=Sub.timeline.length,e=new Array(u),s=new Array(u);for(let t=0;t<e.length;t++)e[t]=Sub.timeline[t],e[t]+=1e3*Sub.delay,e[t]+=Sub.shift,e[t]+=Sub.margin;for(let t=0;t<s.length-1;t++)s[t]=Sub.timeline[t+1],s[t]+=1e3*Sub.delay,s[t]+=Sub.shift;s[s.length-1]=e[e.length-1]+1e3;for(let t=0;t<u;t++)if(s[t]-e[t]<1e3){let u=1e3-(s[t]-e[t]);e[t+1]+=u,s[t]+=u}"srt"==t?toSrt(u,e,s):"ass"==t&&toAss(u,e,s)}function toSrt(t,u,e){let s=0;for(let n=0;n<4*t;n+=4){let t=msToTime(u[s]),n=msToTime(e[s]);Sub.output.push(s+Sub.startsFrom),Sub.output.push(t+" --\x3e "+n),Sub.output.push(Sub.text[s]),Sub.output.push(""),s++}Sub.output.push(s+Sub.startsFrom),Sub.output.push(msToTime(e[s-1]+Sub.margin)+" --\x3e "+msToTime(e[s-1]+1e3+Sub.margin)),Sub.output.push(" ")}function toAss(t,u,e){Sub.output.push("[Script Info]"),Sub.output.push("; Script generated by Aegisub 3.2.2"),Sub.output.push("; http://www.aegisub.org/"),Sub.output.push("Title: Default Aegisub file"),Sub.output.push("ScriptType: v4.00+"),Sub.output.push("WrapStyle: 0"),Sub.output.push("ScaledBorderAndShadow: yes"),Sub.output.push("YCbCr Matrix: None"),Sub.output.push("\n"),Sub.output.push("[Aegisub Project Garbage]"),Sub.output.push("\n"),Sub.output.push("[V4+ Styles]"),Sub.output.push("Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding"),Sub.output.push("Style: Default,Arial,20,&H00FFFFFF,&H000000FF,&H00000000,&H00000000,0,0,0,0,100,100,0,0,1,2,2,2,10,10,10,1"),Sub.output.push("\n"),Sub.output.push("[Events]"),Sub.output.push("Format: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text");for(let s=0;s<t;s++){let t=msToTime(u[s],"ass"),n=msToTime(e[s],"ass"),o="Dialogue: 0,";o+=t,o+=",",o+=n,o+=",Default,,0,0,0,,",o+=Sub.text[s],Sub.output.push(o)}let s="Dialogue: 0,";s+=msToTime(e[e.length-1]+Sub.margin,"ass"),s+=",",s+=msToTime(e[e.length-1]+1e3+Sub.margin,"ass"),s+=",Default,,0,0,0,,",s+="   ",Sub.output.push(s)}function toMiliSec(t){let u=new Array(t.length),e=new Array(t.length),s=new Array(t.length);for(let n=0;n<t.length;n++){let o=t[n][0]+t[n][1],i=t[n][3]+t[n][4];u[n]=+o,e[n]=+i,s[n]=1e3*(60*u[n]+e[n])}return s}function msToTime(t,u="srt"){function e(t,u){return("00"+t).slice(-(u=u||2))}let s=t%1e3,n=(t=(t-s)/1e3)%60,o=(t=(t-n)/60)%60,i=(t-o)/60;return"ass"==u?e(i)+":"+e(o)+":"+e(n)+"."+e(s/10,2):e(i)+":"+e(o)+":"+e(n)+","+e(s,3)}function addNames(){for(i=0;i<Sub.names.length;i++){"-"!=Sub.text[i][0]&&(""!=Sub.names[i]?Sub.text[i]="("+Sub.names[i].replace(/\s+/g,"")+") "+Sub.text[i]:messages("name #"+i+" is empty","w"))}}function charsec(t,u){for(let e=0;e<t.length-1;e++){let s=(t[e+1]-t[e])/1e3/u[e].length;Sub.charsec.push(s)}let e=Sub.charsec;sLog(e,"st")}function combine(t,u){let e=Sub.text,s=Sub.timeline,n=[],o=[],i=[],a=!1;for(let l=0;l<e.length-1;l++){let r=l;e[l].length<=t&&s[l+1]-s[l]<=1e3*u&&e[l+1].length<=t&&s[l+2]-s[l+1]<=1e3*u&&(e[l]="- "+e[l]+"\n- "+e[l+1],r++,l==e.length-2&&(a=!0)),n.push(e[l]),o.push(s[l]),i.push(Sub.names[l]),l=r}a||(n.push(e[e.length-1]),i.push(Sub.names[e.length-1]),o.push(s[e.length-1]),a=!1),Sub.text=n,Sub.timeline=o,Sub.names=i}